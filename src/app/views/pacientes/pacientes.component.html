<!--#region Contenedor Paciente -->
<div class="container" *ngIf="ContainerPrincipal">
    <div class="row m-0 d-flex justify-content-center">
        <div class="col-12 mb-3">
            <h1>Pacientes</h1>
        </div>
        <div class="col-12 mt-5">
            <form class="col-12" [formGroup]="form" (ngSubmit)="CrearPacientes(1)">
                <div class="row m-0 mb-2">
                    <div class="col-12  col-md-5 mb-2">
                        <select name="documento" class="form-control" formControlName="tipodocumento" id="SelTipDoc">
                            <option value="" selected="">Seleccione el tipo de documento...</option>
                            <option *ngFor="let Doc of GesDocument" value="{{Doc.id}}">{{Doc.tipodocumento}}</option>
                        </select>
                    </div>
                    <div class="col-12  col-md-5 mb-2">
                      <input type="text" placeholder="NÃºmero De Documento" formControlName="documento" class="form-control" id="txtdocumento">
                    </div>
                    <div class="col-12 col-md-1 mb-2">
                        <button type="button" class="btn btn-light"  (click)="consultar()" id="btnshare"><i
                                class="fa fa-search" aria-hidden="true"></i>
                        </button>
                    </div>
                    <div class="col-12 col-md-1 mb-2 EscanearMobile">
                      <button type="button" class="btn-buscar btn-escanear" (click)="EscanearDocumento()"  style="background-color: white !important;">
                          <img src="/assets/images/logo-barcode.PNG" alt="" >
                      </button>
                    </div>
                </div>

                <div class="mt-1 col-12 mb-3" *ngIf="formularioPacientes">
                    <div class="row">
                        <!--primero input de nombere y apellido-->
                        <div class="row">

                            <!-- se inicia la creacion del tab -->
                            <div class="container">
                                <section>
                                    <div class="row">
                                        <div class="wizard">
                                            <div class="wizard-inner ">
                                                <div class="connecting-line"></div>
                                                <ul class="nav nav-tabs" role="tablist">
                                                    <!-- primer tab -->
                                                    <li role="presentation" class="active" id="Li1">
                                                        <a href="#step1" data-toggle="tab" aria-controls="step1" role="tab" title="Step 1" id="tab1">
                                                            <span class="round-tab">
                                                                <i class="glyphicon glyphicon-folder-open">1</i>
                                                            </span>
                                                        </a>
                                                    </li>
                                                    <!-- segundo tab -->
                                                    <li role="presentation" class="disabled" id="Li2">
                                                        <a href="#step2" data-toggle="tab" aria-controls="step2" role="tab" title="Step 2" id="tab2">
                                                            <span class="round-tab">
                                                                <i class="glyphicon glyphicon-pencil">2</i>
                                                            </span>
                                                        </a>
                                                    </li>
                                                    <!-- tercer tab -->
                                                    <li role="presentation" class="disabled" id="Li3">
                                                        <a href="#step3" data-toggle="tab" aria-controls="step3" role="tab" title="Step 3" id="tab3">
                                                            <span class="round-tab">
                                                                <i class="glyphicon glyphicon-picture">3</i>
                                                            </span>
                                                        </a>
                                                    </li>
                                                </ul>
                                            </div>
                                            <!-- primer tab -->
                                            <div role="form">
                                                <div class="tab-content col-12 col-md-12">
                                                    <div class="tab-pane active" role="tabpanel" id="step1">
                                                        <div class="row m-0">
                                                            <div class="col-12 col-md-6">
                                                                <h2>Datos Basicos </h2>
                                                            </div>
                                                            <div class="col-md-6 col-md-offset-6 col-xs-6 text-right">
                                                                <div class="btn-group" role="group" *ngIf="BtnVerAcudiente">
                                                                    <button type="button" id="btnacu" class="btn-acu" (click)="verAcudi()">Ver Acudiente</button>
                                                                </div>
                                                            </div>
                                                            <!-- agregamos el campos de primer nombre -->
                                                            <div class="col-12 col-md-6 mt-3 form-group">
                                                                <label>Primer Nombre <sup
                                                                        class="auth">*</sup></label>
                                                                <input type="text" class="form-control" formControlName="primerNombre" required id="primerNombre">
                                                                <!-- <span *ngIf="submit && f.primerNombre.errors" class="text-danger animated fadeIn">es
                                                                    requerido</span> -->
                                                                    <div *ngIf="f.primerNombre.invalid && submit">
                                                                        <p *ngIf="f.primerNombre.hasError('required')" class="text-danger animated fadeIn">Campo obligatorio</p>
                                                                    </div>
                                                                </div>
                                                            <!-- segundo nombre -->
                                                            <div class="col-12 col-md-6 mt-3 form-group">
                                                                <label> Segundo Nombre</label>
                                                                <input type="text" class="form-control" formControlName="segundoNombre">
                                                            </div>
                                                            <!-- primer apellido -->
                                                            <div class="col-12 col-md-6 mt-3 form-group">
                                                                <label>Primer Apellido <sup
                                                                        class="auth">*</sup></label>
                                                                <input type="text" class="form-control" formControlName="primerApellido" required>
                                                                <!-- <span *ngIf="submit && f.primerApellido.errors" class="text-danger animated fadeIn">es
                                                                    requerido</span> -->
                                                                    <div *ngIf="f.primerApellido.invalid && submit">
                                                                        <p *ngIf="f.primerApellido.hasError('required')" class="text-danger animated fadeIn">Campo obligatorio</p>
                                                                      </div>
                                                            </div>
                                                            <!-- segundo apellido -->
                                                            <div class="col-12 col-md-6 mt-3 form-group">
                                                                <label>Segundo Apellido </label>
                                                                <input type="text" class="form-control" formControlName="segundoApellido">
                                                            </div>
                                                            <!-- agregamos el campo de la fecha -->
                                                            <div class="col-12 col-md-6 mt-3 form-group">
                                                                <label>Fecha de nacimiento <sup
                                                                        class="auth">*</sup></label>
                                                                <input type="date" formControlName="fechanacimiento" class="fecha form-control" (change)="CalcularEdad($event.target.value,1)"  id="fechaIni" [max]="hoy" (change)="validarFecha($event.target.value,1)" required>
                                                                <div *ngIf="f.fechanacimiento.invalid  && submit">
                                                                    <p *ngIf="f.fechanacimiento.hasError('required')" class="text-danger animated fadeIn">Campo obligatorio</p>
                                                                  </div>

                                                            </div>
                                                            <!-- agregamos el campo de edad -->
                                                            <div class="col-12 col-md-6 mt-3 form-group">
                                                                <label>Edad </label>
                                                                <input type="text" class="form-control" formControlName="edad" disabled value="{{showAge}}">

                                                            </div>
                                                            <div class="col-12 col-md-6 mt-3 form-group">
                                                                <label>Correo ElectrÃ³nico <sup
                                                                        class="auth">*</sup></label>
                                                                <input type="email" class="form-control" formControlName="correo" id="txtcorreo" (change)="ValidarEmail($event.target.value)" required>
                                                                <!-- <span *ngIf="submit && f.correo.errors" class="text-danger animated fadeIn">es
                                                                    requerido</span> -->
                                                                    <div *ngIf="f.correo.invalid  && submit">
                                                                        <p *ngIf="f.correo.hasError('required')" class="text-danger animated fadeIn">Campo obligatorio</p>
                                                                      </div>
                                                            </div>
                                                            <div class="col-12 col-md-6 mt-3 form-group">
                                                                <label>GÃ©nero <sup
                                                                        class="auth">*</sup></label>
                                                                <select class="form-control" formControlName="Idsexo" (change)="ValidarGenero($event.target.value)" required>
                                                                    <option value="" selected="">Seleccione su
                                                                        GÃ©nero...
                                                                    </option>
                                                                    <option *ngFor="let TypeGenero of GesGenero"
                                                                        value="{{TypeGenero.id}}">
                                                                        {{TypeGenero.genero}}</option>
                                                                </select>
                                                                <!-- <span *ngIf="submit && f.Idsexo.errors" class="text-danger animated fadeIn">es
                                                                    requerido</span> -->
                                                                    <div *ngIf="f.Idsexo.invalid  && submit">
                                                                        <p *ngIf="f.Idsexo.hasError('required')" class="text-danger animated fadeIn">Campo obligatorio</p>
                                                                      </div>

                                                            </div>
                                                        </div>
                                                        <div class="list-inline text-center mt-5">
                                                            <li><button type="button" class="btn-sig" (click)="Siguiente(2)">Siguiente</button></li>
                                                        </div>
                                                    </div>
                                                    <!-- segundo tab -->
                                                    <div class="tab-pane" role="tabpanel" id="step2">
                                                        <!-- primera linea -->
                                                        <div class="row m-0">
                                                            <div class="col-12 col-md-6 mt-3 form-group">
                                                                <label>Estado Civil <sup
                                                                        class="auth">*</sup></label>
                                                                <select class=" form-control" formControlName="Idestadocivil" required>
                                                                    <option value="" selected="">Seleccione su
                                                                        estado civil...
                                                                    </option>
                                                                    <option *ngFor="let EstCivil of GesEstadoCivil"
                                                                        value="{{EstCivil.id}}">
                                                                        {{EstCivil.estadoCiv}}</option>
                                                                </select>
                                                                <!-- <span *ngIf="submit && f.Idestadocivil.errors" class="text-danger animated fadeIn">es
                                                                    requerido</span> -->
                                                                    <div *ngIf="f.Idestadocivil.invalid  && submit">
                                                                        <p *ngIf="f.Idestadocivil.hasError('required')" class="text-danger animated fadeIn">Campo obligatorio</p>
                                                                      </div>
                                                            </div>
                                                            <div class="col-12 col-md-6 mt-3 form-group">
                                                                <label>TelÃ©fono o Celular <sup
                                                                        class="auth">*</sup></label>
                                                                <input type="number" class="form-control" formControlName="telefono" id="txttelefono" maxlength="30" (change)="validarLongitud('T')"  required>
                                                                <!-- <span *ngIf="submit && f.telefono.errors" class="text-danger animated fadeIn">es
                                                                    requerido</span> -->
                                                                    <div *ngIf="f.telefono.invalid  && submit">
                                                                        <p *ngIf="f.telefono.hasError('required')" class="text-danger animated fadeIn">Campo obligatorio</p>
                                                                      </div>
                                                                      <span *ngIf="longitudValidar"  class="text-danger animated fadeIn">{{textoValidacion}}</span>
                                                            </div>
                                                            <div class="col-12 col-md-6 mt-3 form-group">
                                                                <label>Tipo Afiliacion <sup
                                                                        class="auth">*</sup></label>
                                                                <select class=" form-control" formControlName="IdTipAfil" required>
                                                                    <option value="0" selected="">Seleccione su
                                                                        Afiliacion...
                                                                    </option>
                                                                    <option *ngFor="let TipAfil of GesTipAfiliacion"
                                                                        value="{{TipAfil.id}}">
                                                                        {{TipAfil.tipoafiliacion}}
                                                                    </option>
                                                                </select>
                                                                <!-- <span *ngIf="submit && f.IdTipAfil.errors" class="text-danger animated fadeIn">es
                                                                    requerido</span> -->
                                                                    <div *ngIf="f.IdTipAfil.invalid  && submit">
                                                                        <p *ngIf="f.IdTipAfil.hasError('required')" class="text-danger animated fadeIn">Campo obligatorio</p>
                                                                      </div>
                                                            </div>
                                                            <div class="col-12 col-md-6 mt-3 form-group">
                                                                <label>Eps</label>
                                                                <select class=" form-control" formControlName="IdEps">
                                                                    <option value="" selected="">Seleccione su Eps...
                                                                    </option>
                                                                    <option *ngFor="let typeesp of GesEps"
                                                                        value="{{typeesp.id}}">{{typeesp.eps}}</option>
                                                                </select>
                                                            </div>


                                                            <div class="col-12 col-md-3 mt-3 form-group" *ngIf="verEmbarazo">
                                                                <label>Embarazo</label>
                                                                <select class="form-control" formControlName="embarazo">
                                                                    <option value="0">Seleccione</option>
                                                                    <option value="1">No</option>
                                                                    <option  value="2">Si</option>
                                                                    <option  value="3">Internacionales</option>
                                                                </select>
                                                            </div>

                                                            <div class="col-12  mt-3 form-group" [ngClass]="{'col-md-6': verEmbarazo === false,'col-md-3': verEmbarazo === true}">
                                                                <label>Discapacidad</label>
                                                                <select class="form-control" formControlName="discapacidad">
                                                                   <option value="0">Seleccione</option>
                                                                   <option *ngFor="let dis of ArrayDiscapacidad" value="{{dis.Id}}">{{dis.discapacidad}}</option>
                                                               </select>
                                                            </div>

                                                            <div class="col-12 col-md-6 mt-3 form-group">
                                                                <label>Pais <sup class="auth">*</sup>
                                                                </label>
                                                                <select class=" form-control" formControlName="Pais">
                                                                    <option value="" selected="">Seleccione el pais...
                                                                    </option>
                                                                    <option *ngFor="let Country of GesPais"
                                                                        value="{{Country.id}}">{{Country.pais}}</option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-12 col-md-offset-12 col-xs-12 text-center mt-5">
                                                                <div class="btn-group" role="group">
                                                                    <div><button type="button" class="btn-atra" (click)="atras(1)">Atras</button></div>
                                                                    <div><button type="button" class="btn-sig" (click)="Siguiente(3)">Siguiente</button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!-- tercer y ultimo Tab -->
                                                    <div class="tab-pane" role="tabpanel" id="step3">
                                                        <!-- primera linea -->
                                                        <div class="row m-0">
                                                            <div class="col-12 col-md-6 mt-3 form-group">
                                                                <label>Departamento <sup
                                                                        class="auth">*</sup></label>
                                                                <select class=" form-control" (change)="listarCiudades($event.target.value)" formControlName="IdDepto" required>
                                                                    <option value="" selected="">Seleccione El
                                                                        departamento...
                                                                    </option>
                                                                    <option *ngFor="let depar of GesDepart"
                                                                        value="{{depar.id}}">{{depar.depto}}</option>
                                                                </select>
                                                                <!-- <span *ngIf="submit && f.IdDepto.errors" class="text-danger animated fadeIn">es
                                                                    requerido</span> -->
                                                                    <div *ngIf="f.IdDepto.invalid  && submit">
                                                                        <p *ngIf="f.IdDepto.hasError('required')" class="text-danger animated fadeIn">Campo obligatorio</p>
                                                                      </div>

                                                            </div>
                                                            <div class="col-12 col-md-6 mt-3 form-group">
                                                                <label>Ciudad <sup
                                                                        class="auth">*</sup></label>
                                                                <select class=" form-control" id="SelCiudad" (change)="listarLocalidades($event.target.value); ValidarCiudad($event.target.value,1);" formControlName="Idciudad" required>
                                                                    <option value="" selected="">Seleccione su ciudad...
                                                                    </option>
                                                                    <option *ngFor="let ciud of GesCity"
                                                                        value="{{ciud.id}}">
                                                                        {{ciud.ciudad}}</option>
                                                                </select>
                                                                <!-- <span *ngIf="submit && f.Idciudad.errors" class="text-danger animated fadeIn">es
                                                                    requerido</span> -->
                                                                    <div *ngIf="f.Idciudad.invalid  && submit">
                                                                        <p *ngIf="f.Idciudad.hasError('required')" class="text-danger animated fadeIn">Campo obligatorio</p>
                                                                      </div>
                                                            </div>
                                                            <div class="col-12 col-md-6 mt-3 form-group">
                                                                <label>Localidad </label>
                                                                <select class=" form-control" id="SelLocalidad" (change)="ListarBarrios($event.target.value)" formControlName="IdLocalidad">
                                                                    <option value="" selected="">Seleccione su
                                                                        localidad...
                                                                    </option>
                                                                    <option *ngFor="let Location of Geslocatyon"
                                                                        value="{{Location.id}}">{{Location.localidad}}
                                                                    </option>
                                                                </select>
                                                            </div>
                                                            <div class="col-12 col-md-6 mt-3 form-group">
                                                                <label>Barrio </label>
                                                                <select class="form-control" id="Selbarrio" formControlName="Idbarrio">
                                                                    <option value="" selected="">Selecciona su Barrio...
                                                                    </option>
                                                                    <option *ngFor="let Barri of GesBarrio"
                                                                        value="{{Barri.id}}">{{Barri.barrio}}</option>
                                                                </select>
                                                                <input type="text" class="form-control" formControlName="NombreBarrio" id="txtbarrio" style="display: none;" />
                                                            </div>


                                                            <div class="col-12 col-md-6 mt-3 form-group">
                                                                <label>Estrato <sup
                                                                        class="auth">*</sup></label>
                                                                <select class=" form-control" formControlName="Idestrato" required>
                                                                    <option value="" selected="">Seleccione su
                                                                        Estrato...
                                                                    </option>
                                                                    <option *ngFor="let Estr of GesEstr"
                                                                        value="{{Estr.id}}">
                                                                        {{Estr.estrato}}</option>
                                                                </select>
                                                                <!-- <span *ngIf="submit && f.Idestrato.errors" class="text-danger animated fadeIn">es
                                                                    requerido</span> -->
                                                                    <div *ngIf="f.Idestrato.invalid && submit">
                                                                        <p *ngIf="f.Idestrato.hasError('required')" class="text-danger animated fadeIn">Campo obligatorio</p>
                                                                      </div>
                                                            </div>

                                                            <div class="col-12 col-md-6 mt-3 form-group">
                                                                <label>DirecciÃ³n <sup
                                                                        class="auth">*</sup></label>
                                                                <input type="text" class="form-control" formControlName="direccion" id="txtdireccion" minlength="10" (change)="validarLongitud('D')" required>
                                                                <!-- <span *ngIf="submit && f.direccion.errors" class="text-danger animated fadeIn">es
                                                                    requerido</span> -->
                                                                    <div *ngIf="f.direccion.invalid && submit">
                                                                        <p *ngIf="f.direccion.hasError('required')" class="text-danger animated fadeIn">Campo obligatorio</p>
                                                                      </div>
                                                                      <span *ngIf="longitudValidar"  class="text-danger animated fadeIn">{{textoValidacion}}</span>
                                                            </div>



                                                        </div>
                                                        <!-- div segunda linea -->
                                                        <div class="row m-0">

                                                            <div class="col-12 col-md-5 mt-5 form-group">
                                                                <button type="button" class="btn-link">
                                                                    <a href="assets/documentos/POLITICA-DE-TRATAMIENTO-DE-DATOS-2020.pdf"
                                                                    target="_blank"
                                                                    download="POLITICA-DE-TRATAMIENTO-DE-DATOS-2020.pdf">
                                                                    Â¿EstÃ¡ de acuerdo con nuestra polÃ­tica de tratamiento de datos?</a>
                                                                </button>

                                                            </div>
                                                            <div class="col-12 col-md-1 mt-5 form-group form-check form-check-inline">
                                                                <label class="form-check-label" for="inlineRadio1" style="padding: 6px;">si</label>
                                                                <input class="form-check-input" type="radio" id="radioPolitica" (click)="AsigPolitica($event.target.value,1)">
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-12 col-md-offset-12 col-xs-12 text-center mt-5" *ngIf="Pacienteexistente">
                                                                <div class="btn-group" role="group">
                                                                    <div><button type="button" class="btn-atra1" (click)="atras(2)">Atras</button></div>
                                                                    <div *ngIf="IdRol!=6"><button type="button" class="btn-guard1" (click)="ActualizarDatos()">Actualizar</button>
                                                                    </div>
                                                                    <div id="btnVentaAct" style="display: none;"><button type="button" class="btn-venta1" (click)="irAventas(2)">Crear
                                                                            venta</button></div>

                                                                </div>
                                                            </div>
                                                            <div class="col-md-12 col-md-offset-12 col-xs-12 text-center mt-5" *ngIf="pacientenuevo">
                                                                <div class="btn-group" role="group">
                                                                    <div><button type="button" class="btn-atra1" (click)="atras(2)">Atras</button></div>
                                                                    <div><button type="button" id="btnAthenea" style="display: none;" class="btn-guard1" (click)="ActualizarDatos()">Actualizar</button>
                                                                    </div>
                                                                    <div><button type="submit" id="btnGuardar" class="btn-guard1">Guardar</button></div>
                                                                    <div id="btnVentaEx" style="display: none;"><button type="button" class="btn-venta1" (click)="irAventas(1)">Crear
                                                                            venta</button></div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-12 col-md-offset-12 col-xs-12 text-center mt-5" *ngIf="menordeedad">
                                                                <div class="btn-group" role="group">
                                                                    <div><button type="button" class="btn-atra1" (click)="atras(2)">Atras</button></div>
                                                                    <div *ngIf="IdRol!=6"><button type="submit" class="btn-guard1" id="BtnGuardaM">Guardar</button></div>
                                                                    <div *ngIf="IdRol!=6"><button type="button" class="btn-guard1" (click)="ActualizarDatos()" id="BtnActM">Actualizar</button></div>
                                                                    <div *ngIf="VtasMenor"><button type="button" class="btn-venta1" (click)="irAventas(3)">Crear
                                                                            venta</button></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </section>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<!--#region Alerta Creacion Nuevo Paciente -->

<div class="modal fade " id="NoexistPaciente" tabindex="-1" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog">
        <div class="modal-content1crear">
            <div class="modal-header">
                <p class="modal-title p" id="exampleModalLabel1">Nuevo paciente</p>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="col-12 col-md-12-mb-3">
                    <div class="row m-0">
                        <div class="col-12 col-md-12 mt-2">
                            <div class="col-12 col-md-12 mb-3">
                                <i id="IconoSuccess" class="fas fa-exclamation-triangle"></i>                          
                            </div>
                            <h3>
                                Este nÃºmero de identificaciÃ³n no existe,
                            </h3>
                            <p id="parrafo" *ngIf="IdRol!=6 ; else elseBlock">Â¿Desea crear un paciente nuevo? </p>
                            <ng-template #elseBlock>
                                <p id="parrafo">No tiene los permisos necesarios para crear pacientes</p>
                            </ng-template>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer mt-1">
                <div class="col-12 col-md-12 ">
                    <div class="row m-0">
                        <div class="col-12 col-md-6 mt-1">
                            <button type="button" class="btn-cancel" data-dismiss="modal">Cancelar</button>
                        </div>
                        <div class="col-12 col-md-6 mt-1" *ngIf="IdRol!=6">
                            <button type="button" data-dismiss="modal" class="btn" (click)="mostrarformulario('crear')">Crear</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!--#region Modal Ver Informacion del acudiente-->
<div class="modal fade" id="acudiente" tabindex="-1" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog ">
        <div class="modal-content3crear">
            <div class="modal-header ">
                <p class="modal-title " id="exampleModalLabel1">InformaciÃ³n del acudiente</p>
                <button type="button " class="close" data-dismiss="modal" aria-label="Close ">
                    <span aria-hidden="true ">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div *ngFor="let DataAcudiente of vizualizaraAcudiente" class="row m-0">
                    <!--  -->
                    <div class="col-12 col-md-12 mb-3 mt-2">
                        <input type="text " id="principal" class="detall-control" value="{{DataAcudiente.primerNombre}}  {{DataAcudiente.segundoNombre}}  {{DataAcudiente.primerApellido}} {{DataAcudiente.segundoApellido}}" disabled>
                    </div>
                    
                    <div class="container">
                        <div class="row m-0">
                            <div class="col-6 col-md-6">
                                <label class="font-weight-bolder">Tipo de Documento: </label>
                                <p class="font-weight">{{DataAcudiente.AbreviaturaTipodoc}}</p>
                            </div>
                            <div class="col-6 col-md-6">
                                <label class="font-weight-bolder">Documento: </label>
                                <p class="font-weight">{{DataAcudiente.documento}}</p>
                            </div>
                        </div>
                        <div class="row m-0">
                            <div class="col-12 col-md-12">
                                <label class="font-weight-bolder">Correo: </label>
                                <p class="font-weight">{{DataAcudiente.correo}}</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12  text-center mt-3">
                        <div class="btn-group">
                            <div class="col-12 col-md-12 mb-1 "><button type="button" class="btn1" (click)="ConfirmarDesv()">Desvincular</button></div>
                        </div>
                        <div class="btn-group">
                            <div class="col-12 col-md-12 mb-1 "> <button type="button" class="btn" (click)="ActualizarAcu(DataAcudiente,1)">Actualizar Datos</button></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!--#region Alerta vinculacion de acudiente para menores de edad-->
<div class="modal fade " id="NoexistAcudiente" tabindex="-1" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog">
        <div class="modal-content4">
            <div class="modal-header">
                <p class="modal-title p" id="exampleModalLabel1">No existe acudiente</p>
                <button type="button" class="close" (click)="ValidarCerrarAcudiente()" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="col-12 col-md-12-mb-3">
                    <div class="row m-0">
                        <div class="col-12 col-md-12 mb-3">
                            <i id="IconoSuccess" class="fas fa-exclamation-triangle"></i>                          
                        </div>
                        <div class="col-12 col-md-12 mt-2">
                            <h3>
                                Este paciente es menor de edad, para continuar vincule un acudiente
                            </h3>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer mt-1">
                <div class="col-12 col-md-12 ">
                    <div class="row m-0">
                        <div class="col-md-12 col-md-offset-12 col-xs-12 text-center ">
                            <div class="btn-group">
                                <div><button type="button" class="btn" data-dismiss="modal" (click)="DivVincularAcudiente()">Vincular</button></div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<!--#region Modal para vincular o crear un acudiente-->
<div class="modal fade" id="Vizualizarpaciente" tabindex="-1" data-backdrop="static" data-keyboard="false" >
    <div class="modal-dialog">
        <div class="modal-contentcrear">
            <div class="modal-header">
                <p class="modal-title p" id="exampleModalLabel3">Visualizar Acudiente</p>
                <button type="button" class="close" (click)="ValidarCerrarAcudiente()" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="container" *ngIf="ContainerVisualizarAcudiente">
                    <div class="row m-0 d-flex justify-content-center">
                    </div>
                    <div class="col-12" *ngIf="paciente">
                        <h1>Vincular acudiente</h1>
                    </div>
                    <div class="col-12" *ngIf="Acudiente">
                        <h1>Crear Acudiente</h1>
                    </div>
                    <div class="col-12 mt-5">
                        <form class="col-12 " (ngSubmit)="GuardarAcudiente()" [formGroup]="formCrearAcudiente">

                            <div class="row m-0">
                                <div class="col">
                                    <select name="documento" class="form-control" formControlName="tipodocumento" id="SelTipDocAc">
                                    <option value="" selected="">Seleccione tipo de documento</option>
                                    <option *ngFor="let Doc of GesDocument" value="{{Doc.id}}">{{Doc.tipodocumento}}
                                    </option>
                                </select>
                                </div>
                                <div class="col">
                                    <input type="text" placeholder="NÃºmero De Documento" formControlName="documento" class="form-control" id="txtdocumentoAc">
                                </div>
                                <div class="col col-lg-2">
                                    <button type="button" class="btn btn-light" (click)="vizualizarAcudiente()" id="btnshare1"><i class="fa fa-search" aria-hidden="true"></i>
                                    </button>
                                </div>
                            </div>

                            <div class="mt-1 col-12 mb-3" *ngIf="ContainerVisualizar">
                                <div class="row">
                                    <!--primero input de nombere y apellido-->
                                    <div class="row">
                                        <!-- se inicia la creacion del tab -->
                                        <div class="container">
                                            <div class="row">
                                                <!-- los tab se prueba -->
                                                <div role="form">
                                                    <div class="col-12 col-md-12">
                                                        <div class="row" style="margin-left: 0.5em !important; width: 108%;">
                                                            <div class="col-12 col-md-6" style="margin-left: 0.5em; margin-top: 1.5em;">
                                                                <h2>Datos del acudiente</h2>
                                                                <div class="connecting-line-modal-paciente3" id="lineAcudiente"></div>
                                                            </div>
                                                            <div class="row m-0" *ngFor='let VizualizarAcu of vizualizaraAcudiente'>
                                                                <!-- agregamos el campos de primer nombre -->
                                                                <div class="col-12 col-md-3 mt-3 form-group">
                                                                    <label>Primer Nombre </label>
                                                                    <label class="detall-control">{{VizualizarAcu.primerNombre}}</label>
                                                                </div>
                                                                <!-- segundo nombre -->
                                                                <div class="col-12 col-md-3 mt-3 form-group">
                                                                    <label> Segundo Nombre</label>
                                                                    <label class="detall-control">{{VizualizarAcu.segundoNombre}}</label>
                                                                </div>
                                                                <!-- primer apellido -->
                                                                <div class="col-12 col-md-3 mt-3 form-group">
                                                                    <label>Primer Apellido </label>
                                                                    <label class="detall-control">{{VizualizarAcu.primerApellido}}</label>
                                                                </div>
                                                                <!-- segundo apellido -->
                                                                <div class="col-12 col-md-3 mt-3 form-group">
                                                                    <label>Segundo Apellido </label>
                                                                    <label class="detall-control">{{VizualizarAcu.segundoApellido}}</label>
                                                                </div>
                                                                <!-- campo para el correo electronico -->
                                                                <div class="col-12 col-md-3 mt-2 form-group">
                                                                    <label>Correo ElectrÃ³nico</label>
                                                                    <label class="detall-control">{{VizualizarAcu.correo}}</label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <form (ngSubmit)="VincularAcudiente()">
                                                <div class="row">
                                                    <div class="col-md-12 col-md-offset-12 col-xs-12 text-center mt-2">
                                                        <div class="btn-group" role="group">
                                                            <div><button type="submit" class="btn-guard2">Vincular</button></div>
                                                        </div>
                                                    </div>
                                                </div>

                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- div crear acudiente -->
                            <div class="mt-1 col-12 mb-3" *ngIf="CrearAcudiente">
                                <div class="container">
                                    <div class="row m-0">
                                        <div class="col">
                                            <label>Primer Nombre <sup class="auth">*</sup></label>
                                            <input type="text" class="form-control" formControlName="primerNombre" required>
                                            <span *ngIf="submit && Acu.primerNombre.errors"
                                                class="text-danger animated fadeIn">es
                                                requerido</span>
                                        </div>
                                        <div class="col">
                                            <label>Segundo Nombre</label>
                                            <input type="text" class="form-control" formControlName="segundoNombre">
                                        </div>
                                    </div>
                                    <div class="row m-0">
                                        <div class="col">
                                            <label>Primer Apellido <sup class="auth">*</sup></label>
                                            <input type="text" class="form-control" formControlName="primerApellido" required>
                                            <span *ngIf="submit && Acu.primerApellido.errors"
                                                class="text-danger animated fadeIn">es
                                                requerido</span>
                                        </div>
                                        <div class="col">
                                            <label>Segundo Apellido</label>
                                            <input type="text" class="form-control" formControlName="segundoApellido">
                                        </div>
                                    </div>

                                    <div class="row m-0 mt-2">
                                        <div class="col">
                                            <label>Correo ElectrÃ³nico <sup class="auth">*</sup></label>
                                            <input type="email" class="form-control" formControlName="correo" id="txtcorreo" (change)="ValidarEmail($event.target.value)">
                                            <span *ngIf="submit && Acu.correo.errors" class="text-danger animated fadeIn">es requerido</span>
                                        </div>
                                    </div>

                                    <div class="col-md-12 col-md-offset-12 col-xs-12 text-center mt-5">
                                        <div class="btn-group" role="group">
                                            <!-- <div><button type="button" class="btn-atras-acu">Cancelar</button>
                                            </div> -->
                                            <div class="btn-group">
                                                <button class="btn-actualizar-acu" type="submit" id="btnGuardarAc" 
                                                >Guardar</button>
                                            </div>
                                            <div class="btn-group">
                                                <button class="btn-actualizar-acu" id="btnVincular" style="display: none;"  type="button"
                                                (click)="VincularAcudiente()">Vincular</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!--#region Modal para desvincular un acudiente-->
<div class="modal fade " id="AlertDesvinculacion" tabindex="-1" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog">
        <div class="modal-content1">
            <div class="modal-header">
                <p class="modal-title" id="exampleModalLabel1"></p>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="col-12 col-md-12-mb-3">
                    <div class="row m-0">
                        <div class="col-12 col-md-12 mt-2">
                            <h3>
                                Este paciente es menor de edad,esta seguro que desea desvincular el acudiente <label id="lblAcudiente"></label>
                            </h3>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer mt-1">
                <form class="col-12" (ngSubmit)="GuardarDesvinculacion()">
                    <div class="col-md-12 col-md-offset-12 col-xs-12 text-center mt-2">
                        <div class="row m-0">
                            <div class="col-md-6 col-md-offset-6 col-xs-6 text-center mt-2">
                                <button type="button" class="btn2" data-dismiss="modal">Cancelar</button>
                            </div>
                            <div class="col-md-6 col-md-offset-6 col-xs-6 text-center mt-2">
                                <button type="submit" class="btn">Confirmar</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>


<!--#region Modal para actializar los datos del  acudiente-->
<div class="modal fade scrollModal" id="ActualizarPaciente" tabindex="-1" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog">
        <div class="modal-content2">
            <div class="modal-header">
                <p class="modal-title" id="exampleModalLabel3">Actualizar Acudiente</p>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="container">
                    <div class="col-12">
                        <h1>Actualizar Acudiente</h1>
                    </div>
                    <form class="col-12 " (ngSubmit)="GuardarAcudiente()" [formGroup]="formCrearAcudiente">

                        <div class="mt-1 col-12 mb-3">
                            <div class="container">
                                <div class="row m-0">
                                    <div class="col">
                                        <label>Tipo Documento <sup class="auth">*</sup></label>
                                        <select name="documento" class="form-control" formControlName="tipodocumento" id="SelTipDocAc">
                                        <option value="" selected="">Seleccione tipo de documento</option>
                                        <option *ngFor="let Doc of GesDocument" value="{{Doc.id}}">{{Doc.tipodocumento}}
                                        </option>
                                    </select>
                                    </div>
                                    <div class="col">
                                        <label>Documento <sup class="auth">*</sup></label>
                                        <input type="text" placeholder="NÃºmero De Documento" formControlName="documento" class="form-control" id="txtdocumentoAc">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="mt-1 col-12 mb-3">
                            <div class="container">
                                <div class="row m-0">
                                    <div class="col">
                                        <label>Primer Nombre <sup class="auth">*</sup></label>
                                        <input type="text" class="form-control" formControlName="primerNombre" required>
                                        <span *ngIf="submit && Acu.primerNombre.errors"
                                            class="text-danger animated fadeIn">es
                                            requerido</span>
                                    </div>
                                    <div class="col">
                                        <label>Segundo Nombre</label>
                                        <input type="text" class="form-control" formControlName="segundoNombre">
                                    </div>
                                </div>
                                <div class="row m-0 mt-2">
                                    <div class="col">
                                        <label>Primer Apellido <sup class="auth">*</sup></label>
                                        <input type="text" class="form-control" formControlName="primerApellido" required>
                                        <span *ngIf="submit && Acu.primerApellido.errors"
                                            class="text-danger animated fadeIn">es
                                            requerido</span>
                                    </div>
                                    <div class="col">
                                        <label>Segundo Apellido <sup class="auth">*</sup></label>
                                        <input type="text" class="form-control" formControlName="segundoApellido">
                                    </div>
                                </div>

                                <div class="row m-0 mt-2">
                                    <div class="col-6">
                                        <label>Correo ElectrÃ³nico <sup class="auth">*</sup></label>
                                        <input type="email" class="form-control" formControlName="correo" id="txtcorreo" (change)="ValidarEmail($event.target.value)" required>
                                        <span *ngIf="submit && Acu.correo.errors" class="text-danger animated fadeIn">es requerido</span>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-12  text-center mt-3">
                                <div class="btn-group">
                                    <div class="col-12 col-md-12 mb-1 "><button type="button" class="btn-atras-acu" (click)="atrasAcudiente()">Cancelar</button></div>
                                </div>
                                <div class="btn-group">
                                    <div class="col-12 col-md-12 mb-1"> <button type="submit" class="btn-actualizar-acu">Guardar</button></div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
